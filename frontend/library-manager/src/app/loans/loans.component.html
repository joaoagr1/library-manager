<div class="loan-form">
  <form id="loans-form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="userId">User ID</label>
      <input type="text" id="userId" [(ngModel)]="newLoan.userId" name="userId" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="bookId">Book ID</label>
      <input type="text" id="bookId" [(ngModel)]="newLoan.bookId" name="bookId" class="form-control" required>
    </div>
   
    <div class="form-group">
      <label for="returnDate">Return Date</label>
      <input type="date" id="returnDate" [(ngModel)]="newLoan.returnDate" name="returnDate" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-success">{{ isEditing ? 'Update Loan' : 'Add Loan' }}</button>
  </form>
</div>


<table id="loans-table" mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container matColumnDef="user">
    <th mat-header-cell *matHeaderCellDef>User</th>
    <td mat-cell *matCellDef="let loan">{{loan.user.name}}</td>
  </ng-container>

  <ng-container matColumnDef="book">
    <th mat-header-cell *matHeaderCellDef>Book</th>
    <td mat-cell *matCellDef="let loan">{{loan.book.title}}</td>
  </ng-container>

  <ng-container matColumnDef="loanDate">
    <th mat-header-cell *matHeaderCellDef>Loan Date</th>
    <td mat-cell *matCellDef="let loan">{{loan.loanDate | date}}</td>
  </ng-container>

  <ng-container matColumnDef="returnDate">
    <th mat-header-cell *matHeaderCellDef>Return Date</th>
    <td mat-cell *matCellDef="let loan">{{loan.returnDate | date}}</td>
  </ng-container>

  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let loan">{{loan.status}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
